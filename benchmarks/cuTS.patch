diff --git a/cuts.py b/cuts.py
index a730679..ae4875c 100644
--- a/cuts.py
+++ b/cuts.py
@@ -2,18 +2,35 @@
 import os,sys
 import subprocess
 import time
+import glob
+
 if __name__ == '__main__':
-    data_graph_set = ['Enron.g','gowalla.g','wikiTalk.g','roadNetCa.g','roadNetPa.g','roadNetTx.g']
-    query_graph_set = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33]
+    if len(sys.argv) < 3:
+        print('Usage: python cuts.py <data_graph_folder> <query_graph_folder>')
+        sys.exit(1)
+    data_graph_folder = sys.argv[1]
+    query_graph_folder = sys.argv[2]
+    
+    data_graph_set = os.listdir(data_graph_folder)
+    query_graph_set = os.listdir(query_graph_folder)
+    
+    start_time = time.time()
     for i,d in enumerate(data_graph_set):
-        data_graph = os.path.join('./data_set/data/ours_format',d)
+        data_graph = os.path.abspath(os.path.join(data_graph_folder,d))
         for j,q in enumerate(query_graph_set):
-            query_graph = os.path.join('./data_set/query/ours_format','{}.g'.format(q))
+            query_graph = os.path.abspath(os.path.join(query_graph_folder,q))
             try:
                 if i <= 2:
-                    subprocess.run(['./build/cuts',data_graph,query_graph,'4'])
+                    p = subprocess.run(['./build/cuts',data_graph,query_graph,'4'], stdout=subprocess.PIPE, stderr=subprocess.PIPE)
                 else:
-                    subprocess.run(['./build/cuts',data_graph,query_graph])
+                    p = subprocess.run(['./build/cuts',data_graph,query_graph], stdout=subprocess.PIPE, stderr=subprocess.PIPE)
+                if p.returncode != 0:
+                    
+                    print(p.stderr.decode('utf-8').strip())
+                    exit(1)
+                print(p.stdout.decode('utf-8'))
             except:
                 time.sleep(3)
                 continue
+    end_time = time.time()
+    print('Time:',end_time-start_time)
